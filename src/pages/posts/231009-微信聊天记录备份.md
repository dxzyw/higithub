<img src="/assets/image/231009-微信聊天记录备份-1.png" style="max-width: 70%; height: auto;">
<small>2.6k star，开源的微信聊天记录备份，释放你的手机存储空间！！</small>


手机里面的app，微信应该是占据空间最大的了，而且还不好清理，说不准什么时候就会去搜历史聊天记录，今天翻github发现一个好玩的，可以将你的聊天记录备份到本地，还可以直接搜索。

如下图：

![](/assets/image/231009-微信聊天记录备份-1.png)

 下面具体介绍下这款工具
 
 
 **解密微信聊天记录：技术背后的奥秘**

在当今社交网络盛行的时代，微信作为最大的聊天工具之一，承载了我们许多珍贵的回忆和信息。然而，有时我们可能需要将这些聊天记录备份到电脑，或者是希望在没有Root权限的手机上查看。在这个需求背后，隐藏着一系列复杂的技术过程，让我们一窥其中的奥秘。

### **备份微信聊天记录**

备份微信聊天记录的过程需要以下几个步骤：

1. **手机备份到电脑：** 在有ROOT权限的手机上登陆微信，然后将聊天记录备份到电脑上。

2. **数据收集：** 从手机中收集微信聊天图片、语音、视频、头像等文件。这些文件通常存储在手机特定的文件夹下，需要进行定位和收集。

```
image2 文件夹：里面存放着所有的微信聊天图片，位置在：/data/data/com.tencent.mm/MicroMsg/[32位字母]/image2
voice2 文件夹：里面存放着所有的微信语音，位置在：/sdcard/Android/data/com.tencent.mm/MicroMsg/[32位字母]/voice2
video 文件夹：里面存放着所有的微信视频，位置在：/sdcard/Android/data/com.tencent.mm/MicroMsg/[32位字母]/video
avatar 文件夹：里面存放着所有的微信头像，位置在：/data/data/com.tencent.mm/MicroMsg/[32位字母]/avatar
Download 文件夹: 微信的聊天发送的文件存放在这里，位置在：/sdcard/Android/data/com.tencent.mm/MicroMsg/Download
EnMicroMsg.db: 微信的数据库文件，位置在：/data/data/com.tencent.mm/MicroMsg/[32位字母]/EnMicroMsg.db
WxFileIndex.db: 微信的文件索引数据库文件，位置在：/data/data/com.tencent.mm/MicroMsg/[32位字母]/WxFileIndex.db
```

3. **解密数据库文件：** 微信的聊天记录实际上存储在数据库文件中，这些文件通常是加密的。解密这些数据库文件是技术的关键。

### **解密微信数据库**

解密微信数据库通常需要以下步骤：

1. **获取解密密钥：** 解密数据库的第一步是获取解密密钥。这通常可以通过特定方法得到。

2. **进行数据库解密：** 利用得到的解密密钥，对微信数据库进行解密。这一步骤需要使用特定的工具，通常是在命令行中执行。

#### 如下操作可以快速解密：

```
#把要解密的微信 DB 所在文件夹挂在到容器的 /wcdb 上面。

$ docker run --rm -v /Users/zheng/Documents:/wcdb  greycodee/wcdb-sqlcipher -f DB名字 -k 解密密钥

2022/06/22 05:31:17 开始解密...
2022/06/22 05:31:28 解密成功: ok
2022/06/22 05:31:28 明文数据库文件名: EnMicroMsg_plain.db
```

### **转换微信语音和视频**

微信聊天记录中的语音和视频通常以特定的格式保存，比如AMR格式。为了能够在普通播放器中播放，需要将这些文件转换成常见的MP3格式等。

1. **快速转换语音文件：** 通过特定的工具，将微信语音文件转换成MP3格式。这个过程可以自动完成，只需将工具运行在相应文件夹下即可。

### **处理没有ROOT权限的手机**

在没有ROOT权限的手机上，获取微信聊天记录会相对困难一些。但是，有一些方法仍然可以尝试：

1. **使用系统备份功能：** 一些手机系统自带备份功能，可以备份微信应用数据。这些备份文件可以通过特定的解包工具打开，从中获取聊天记录等文件。

2. **查找uin：** 通过特定文件，我们可以找到手机上登陆过的微信号的唯一标识uin。这个信息对于解密相应的微信数据库非常重要。 

## 如何运行程序？

```
$ git clone https://github.com/greycodee/wechat-backup.git
$ cd wechat-backup
$ go run main.go -f '[替换成你的微信备份文件路径]'
```

更详细的步骤可以参考：

**https://blog.greycode.top/posts/android-wechat-bak/**

### **总结**

备份和解密微信聊天记录是一项技术挑战，需要一系列复杂的步骤和工具。通过这些技术手段，我们可以更好地管理和保存我们的聊天记录。然而，需要特别注意的是，所有的操作必须在法律和道德框架内进行，尊重隐私和他人的合法权益。

以上介绍的只是大致的操作流程，实际操作中需要根据具体情况选择合适的方法。在进行这些操作时，请务必小心谨慎，避免造成不必要的麻烦。