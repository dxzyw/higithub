<img src="/assets/image/230917-nushell-1.gif" style="max-width: 70%; height: auto;">
<small>26.4k star，介绍一款更酷炫、实用的shell</small>



先看效果，更多实用工具可以到**文末更多推荐**查看


![](/assets/image/230917-nushell-1.gif)

# nushell：颠覆传统命令行的未来

## 引言

在计算机科学的世界里，命令行是一种无可替代的工具。无论您是一名系统管理员、开发人员、数据分析师还是普通用户，都曾使用过命令行来执行各种任务。传统的命令行工具通常以一系列的文本命令和参数的形式接受用户输入，然后返回文本输出。尽管这种方式在许多情况下都非常有效，但它也存在一些局限性，例如对文本的依赖、命令难以记忆等。

Nu Shell（以下简称Nu）是一种全新的命令行工具，它旨在颠覆传统的命令行体验，使命令行更加强大、交互性更强、易于使用，同时提供更多的数据处理能力。本文将介绍Nu Shell的特点、优势以及如何使用它来提高工作效率。

![](/assets/image/230917-nushell-2.png)

## Nu Shell 的起源

Nu Shell 由 Jonathan Turner 和 Yehuda Katz 共同发起，是一个开源项目，其目标是重新思考和改进命令行工具的设计。Nu Shell 的设计灵感来自多个领域，包括 PowerShell、函数式编程语言以及现代 CLI 工具。通过结合这些灵感，Nu Shell 创建了一个全新的命令行体验。

## 控制各种操作系统的管道

Nu Shell 可在 Linux、macOS、BSD 和 Windows 上运行。一次学习，随后可以在任何地方使用。这意味着，不管您使用的是哪种操作系统，您都可以依靠 Nu Shell 来执行相同的命令和管道操作，从而实现跨平台的一致性。

## 一切皆为数据

Nu Shell 的核心理念之一是“一切皆为数据”。它使用结构化数据进行管道操作，这使您可以安全地进行选择、过滤和排序，而不必依赖于字符串的解析。这意味着您可以以相同的方式处理数据，而无需担心不同的数据格式或编码问题。这种数据驱动的方法使得 Nu Shell 成为处理复杂数据任务的强大工具。

传统的命令行工具通常要求您解析和处理字符串，这可能导致错误和混淆。Nu Shell 的结构化数据模型使得操作更加直观和可维护，您可以通过选择、过滤和转换数据来解决问题，而无需担心数据的外观或类型。

## 强大的插件系统

Nu Shell 提供了强大的插件系统，使用户能够轻松扩展其功能。插件是可执行二进制文件，它们可以添加新的命令、过滤器和操作，以满足用户的特定需求。

这个插件系统非常灵活，允许用户自定义并引入自己的插件。这些插件可以与 Nu 的内置命令一样使用，因为它们遵循相同的数据模型和管道操作规则。这意味着您可以为 Nu Shell 创建自定义命令，以执行与您的工作流程和需求完全相符的操作。

插件的存在使 Nu Shell 变得非常可扩展，并且能够处理各种不同的任务和数据格式。这使得 Nu Shell 成为一个适用于各种用例和行业的通用命令行工具，无论是进行系统管理、数据处理、自动化任务还是其他任务，都可以找到合适的插件来扩展其功能。

## Nu Shell 的哲学

Nu Shell 的设计和哲学可以概括如下：

### 管道化思维

在 Unix 中，通过管道将多个命令连接在一起是一种常见的做法，以实现复杂的操作。Nu Shell 将这一思想发扬光大，并构建在管道的概念之上。与传统的文本流不同，Nu Shell 将数据看作是结构化的，就像数据库中的表格一样。这种数据驱动的管道操作可以实现更灵活、更强大的数据处理和转换。

Nu Shell 的管道操作分为三大类：

1. **生成流的命令**：例如 `ls` 命令，它生成一个包含文件列表的流。
2. **过滤流的命令**：例如 `where type == "dir"` 命令，它根据条件过滤输入流中的数据。
3. **消耗管道输出的命令**：例如 `table` 命令，它将管道中的数据以表格形式呈现。

这些命令可以通过管道符 `|` 连接在一起，形成复杂的管道操作，实现各种任务。

### 数据优先

Nu Shell 认为数据应该是最重要的，因此它采用了结构化数据模型。这意味着 Nu Shell 不仅可以处理文本数据，还可以处理表格、列表、对象等多种数据类型。这种数据优先的设计使 Nu Shell 成为处理各种数据格式的理想工具。

### 功能性操作

Nu Shell 强调功能性操作，而不是通过改变状态来进行操作。这意味着大多数命令不会改变数据本身，而是生成新的数据流。这种功能性操作风格使得 Nu Shell 更加可预测和容易测试，有助于编写高质量的脚本和管道。

## Nu Shell 的使用

Nu Shell 的使用非常简单。以下是一

些常见的用法示例：

### 基本命令

- 启动 Nu Shell：只需在终端中键入 `nu`，即可启动 Nu Shell。您将看到一个友好的提示符，表示 Nu Shell 已准备好接受您的命令。

```sh
$ nu
```

- 执行命令：Nu Shell 支持大多数常见的命令，例如 `ls`、`cat` 等。只需键入命令，然后按 Enter 键即可执行。

```sh
$ ls
```

### 管道操作

Nu Shell 的强大之处在于管道操作。您可以将多个命令连接在一起，以实现复杂的数据处理任务。以下是一个示例，演示如何使用 Nu Shell 查找目录中的特定文件：

```sh
$ ls | where type == "dir" | table
```

上述命令首先使用 `ls` 命令获取目录列表，然后使用 `where` 命令过滤出目录，最后使用 `table` 命令以表格形式呈现结果。

### 结构化数据处理

Nu Shell 不仅可以处理文本数据，还可以处理结构化数据。例如，您可以加载 JSON 文件并查询其中的数据：

```sh
$ open data.json | get name
```

上述命令加载名为 `data.json` 的 JSON 文件，然后使用 `get` 命令获取其中的 `name` 属性。

### 自定义插件

如果您需要执行特定任务，而 Nu Shell 的内置命令不足以满足需求，您可以编写自定义插件。插件是以可执行文件的形式存在的，它们可以扩展 Nu Shell 的功能。创建自己的插件可以让您根据需要添加新的命令和功能。

## 安装 Nu Shell

要开始使用 Nu Shell，您需要先安装它。Nu Shell 提供了多种安装方法，具体取决于您的操作系统。以下是一些常见操作系统的安装方法：

### Linux 和 macOS

在 Linux 和 macOS 上，您可以使用 Homebrew 进行安装：

```sh
$ brew install nushell
```

### Windows

在 Windows 上，您可以使用 Windows 包管理器 `winget` 进行安装：

```sh
$ winget install nushell
```

这只是安装 Nu Shell 的一种方式，您还可以在官方网站或项目的文档中找到更多安装选项和详细说明。

## 结论

Nu Shell 是一个具有潜力的命令行工具，它重新定义了命令行体验。通过结构化数据模型、强大的管道操作和灵活的插件系统，Nu Shell 为用户提供了更多的控制权和数据处理能力。不管您是进行系统管理、数据分析还是开发工作，Nu Shell 都可以成为您的得力助手。

随着Nu Shell的不断发展和改进，它有望成为命令行界的重要一员，为用户提供更好的工作体验和更高的效率。如果您还没有尝试过Nu Shell，不妨现在就开始探索这个令人兴奋的命令行工具，看看它如何改变您的工作方式。

无论您是一名新手还是经验丰富的命令行用户，Nu Shell 都值得一试。它的简单性和功能性将让您爱不释手，成为您日常工作的得力工具。愿您享受使用 Nu Shell 带来的便捷和效率！


