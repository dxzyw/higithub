<img src="/assets/image/240913-lnav.png">
<small>7.6k star,日志查看的最酷方式！</small>

![](/assets/image/240913-lnav.png)

LNAV（Logfile Navigator）是一款功能强大的日志文件查看器，专为终端用户设计。

它能够处理多种日志文件格式，并将它们合并到一个统一的视图中，方便用户进行日志分析和故障排除。

LNAV 的设计初衷是简化日志文件的查看和管理，使用户能够更高效地处理日志数据。

## 功能特点

LNAV 提供了一系列强大的功能，使其成为日志文件管理的理想工具：

1. **多格式支持**：LNAV 能够自动检测并处理多种日志文件格式，包括常见的 syslog、Apache、JSON 等格式。
2. **实时监控**：支持实时监控日志文件的变化，自动跟踪文件重命名和新文件的创建。
3. **合并视图**：将多个日志文件按时间顺序合并到一个视图中，方便用户查看和分析。
4. **错误和警告索引**：自动构建错误和警告的索引，用户可以快速跳转到日志中的错误或警告位置。
5. **正则表达式搜索**：支持使用正则表达式进行搜索，用户可以快速找到感兴趣的日志条目。
6. **高亮显示**：支持使用正则表达式高亮显示特定的日志条目，方便用户识别重要信息。
7. **结构化文本美化**：能够美化 JSON 等结构化文本，使其更易于阅读。
8. **时间直方图**：提供日志消息的时间直方图视图，帮助用户分析日志数据的时间分布。
9. **SQLite 查询**：内置 SQLite 数据库，用户可以使用 SQL 查询日志数据，进行复杂的数据分析。

## 如何快速开始

以下是快速开始使用 LNAV 的步骤：

### 安装 LNAV

LNAV 支持多种操作系统，用户可以根据自己的操作系统选择合适的安装方法。

#### 在 Linux 上安装

对于大多数 Linux 发行版，可以使用包管理器安装 LNAV。例如，在 Debian 或 Ubuntu 上，可以使用以下命令：

```bash
sudo apt-get install lnav
```

在 Fedora 上，可以使用：

```bash
sudo dnf install lnav
```

#### 在 macOS 上安装

macOS 用户可以使用 Homebrew 安装 LNAV：

```bash
brew install lnav
```

#### 在 Windows 上安装

Windows 用户可以通过 Scoop 安装 LNAV：

```bash
scoop install lnav
```

### 使用 LNAV

安装完成后，可以通过命令行启动 LNAV 并查看日志文件。以下是一些常用的命令和操作：

#### 查看日志文件

要查看一个或多个日志文件，可以在命令行中运行：

```bash
lnav /path/to/logfile1 /path/to/logfile2
```

LNAV 将自动检测文件格式并将它们合并到一个视图中。

#### 实时监控日志文件

LNAV 支持实时监控日志文件的变化。启动 LNAV 后，可以使用 `:follow` 命令开启实时监控模式：

```bash
:follow
```

#### 搜索日志条目

可以使用 `/` 键进入搜索模式，并输入正则表达式进行搜索。例如，要搜索包含“error”的日志条目，可以输入：

```bash
/error
```

#### 高亮显示日志条目

可以使用 `:highlight` 命令高亮显示特定的日志条目。例如，要高亮显示包含“warning”的日志条目，可以输入：

```bash
:highlight warning
```

#### 查看时间直方图

可以使用 `i` 键查看日志消息的时间直方图，帮助分析日志数据的时间分布。

#### 使用 SQLite 查询日志数据

LNAV 内置 SQLite 数据库，用户可以使用 `;` 键进入 SQL 查询模式，并输入 SQL 查询语句。例如，要查询包含“error”的日志条目，可以输入：

```sql
SELECT * FROM logline WHERE log_body LIKE '%error%';
```

### 在线体验

LNAV 提供了在线体验功能，用户可以通过 SSH 连接到演示节点，体验 LNAV 的功能。使用以下命令连接到演示节点：

```bash
ssh playground@demo.lnav.org
```

连接后，可以使用 LNAV 查看示例日志文件，并学习基本操作。

## 总结

LNAV 是一款功能强大的日志文件查看器，提供了多种实用的功能，帮助用户高效地管理和分析日志文件。

通过支持多种日志格式、实时监控、正则表达式搜索和高亮显示等功能，LNAV 使日志文件的查看和分析变得更加简单和直观。无论是系统管理员还是开发人员，LNAV 都是处理日志文件的理想工具
