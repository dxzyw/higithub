<img src="/assets/image/docker-logo.png" style="max-width: 60%; height: auto;">

<small>>dockerä»‹ç»ï¼Œç¬¬äºŒæœŸæ–‡æ¡£</small>

### å®¹å™¨å¿«é€Ÿä¸Šæ‰‹â€”â€”ç« èŠ‚ä»‹ç»

æœ¬ç« æ—¨åœ¨å¸®åŠ©Dockeråˆå­¦è€…å¿«é€ŸæŒæ¡å®¹å™¨çš„åŸºæœ¬æ“ä½œä¸ç®¡ç†æ–¹æ³•ã€‚é€šè¿‡å¾ªåºæ¸è¿›çš„å†…å®¹å®‰æ’ï¼Œå°†äº†è§£Dockerå‘½ä»¤è¡Œçš„åŸºç¡€ç”¨æ³•ï¼Œå­¦ä¼šå¦‚ä½•æ‹‰å–å’Œç®¡ç†é•œåƒï¼ŒæŒæ¡å®¹å™¨çš„åˆ›å»ºã€è¿è¡Œã€åœæ­¢ç­‰æ ¸å¿ƒæ“ä½œã€‚åŒæ—¶ï¼Œæœ¬ç« è¿˜å°†å¸¦ä½“éªŒå®¹å™¨æ—¥å¿—è°ƒè¯•ã€æ•°æ®ç®¡ç†ï¼ˆå¦‚æ–‡ä»¶æŒ‚è½½ï¼‰ã€ç½‘ç»œé…ç½®ï¼ˆå¦‚ç«¯å£æ˜ å°„ï¼‰ç­‰å®ç”¨æŠ€èƒ½ã€‚

é™¤äº†åŸºç¡€æ“ä½œå¤–ï¼Œè¿˜å°†åˆæ­¥æ¥è§¦Docker Composeæ¨¡å¼ï¼Œäº†è§£å¦‚ä½•é€šè¿‡ç¼–æ’å·¥å…·å®ç°å¤šå®¹å™¨åº”ç”¨çš„å¿«é€Ÿéƒ¨ç½²ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜å‡†å¤‡äº†ç®€å•çš„åº”ç”¨éƒ¨ç½²ç¤ºä¾‹ï¼Œä»¥åŠå¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©åœ¨å®é™…æ“ä½œä¸­å°‘èµ°å¼¯è·¯ã€‚

æ— è®ºæ˜¯åˆšåˆšæ¥è§¦Dockerï¼Œè¿˜æ˜¯å¸Œæœ›è¿›ä¸€æ­¥æå‡å®¹å™¨ç®¡ç†èƒ½åŠ›ï¼Œæœ¬ç« éƒ½å°†ä¸ºæ‰“ä¸‹åšå®çš„åŸºç¡€ï¼ŒåŠ©åŠ›é«˜æ•ˆå¼€å¯å®¹å™¨åŒ–ä¹‹æ—…ã€‚

---


#### **ç¬¬äºŒéƒ¨åˆ†ï¼šå®¹å™¨å¿«é€Ÿä¸Šæ‰‹**
ğŸ“Œ **ç®€ä»‹**ï¼šæœ¬ç« é‡ç‚¹ä»‹ç»Dockerçš„åŸºæœ¬æ“ä½œï¼Œå¦‚å®¹å™¨å¯åŠ¨ã€ç®¡ç†å’Œåˆ é™¤ç­‰å‘½ä»¤ï¼Œè®©åˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹ã€‚
1. Dockerå‘½ä»¤è¡ŒåŸºç¡€
2. é•œåƒçš„æ‹‰å–å’Œç®¡ç†
3. å®¹å™¨çš„åˆ›å»ºã€è¿è¡Œä¸åœæ­¢
4. å®¹å™¨æ—¥å¿—ä¸è°ƒè¯•
5. å®¹å™¨æ•°æ®ç®¡ç†ï¼ˆæ–‡ä»¶æŒ‚è½½ï¼‰
6. ç½‘ç»œç®¡ç†ï¼ˆç«¯å£æ˜ å°„ï¼‰
7. Docker Composeå¿«é€Ÿä½“éªŒ
8. ç®€å•åº”ç”¨éƒ¨ç½²ç¤ºä¾‹
9.  Docker CLIè¿›é˜¶å‘½ä»¤
10. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


## ç¬¬äºŒéƒ¨åˆ†ï¼šå®¹å™¨å¿«é€Ÿä¸Šæ‰‹

### 1. Dockerå‘½ä»¤è¡ŒåŸºç¡€
æœ¬èŠ‚å°†ä»‹ç»Dockerå‘½ä»¤è¡Œå·¥å…·çš„åŸºæœ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬å¦‚ä½•æŸ¥çœ‹Dockerç‰ˆæœ¬ã€è·å–å¸®åŠ©ä¿¡æ¯ã€å¸¸ç”¨å‘½ä»¤çš„ç»“æ„å’Œå‚æ•°è¯´æ˜ã€‚
**ç¤ºä¾‹å‘½ä»¤ï¼š**

### Dockerå¸¸ç”¨å‘½ä»¤åŠç®€ä»‹

1. **docker version**  
   æŸ¥çœ‹å½“å‰Dockerå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œç¡®è®¤å®‰è£…å’Œç‰ˆæœ¬å…¼å®¹æ€§ã€‚

2. **docker info**  
   æ˜¾ç¤ºDockerçš„è¯¦ç»†ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒã€å®¹å™¨æ•°é‡ã€å­˜å‚¨é©±åŠ¨ã€ç½‘ç»œç­‰ã€‚

3. **docker help**  
   è·å–Dockerå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼ŒæŸ¥çœ‹æ‰€æœ‰å¯ç”¨å­å‘½ä»¤åŠå…¶ç”¨æ³•ã€‚

4. **docker images**  
   åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒï¼ŒåŒ…æ‹¬é•œåƒåç§°ã€æ ‡ç­¾ã€IDã€åˆ›å»ºæ—¶é—´å’Œå¤§å°ã€‚

5. **docker pull [é•œåƒå]**  
   ä»Docker Hubæˆ–å…¶ä»–ä»“åº“æ‹‰å–æŒ‡å®šé•œåƒåˆ°æœ¬åœ°ã€‚

6. **docker rmi [é•œåƒåæˆ–ID]**  
   åˆ é™¤æœ¬åœ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚

7. **docker ps**  
   æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨åˆ—è¡¨ã€‚

8. **docker ps -a**  
   æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰ã€‚

9. **docker run [å‚æ•°] [é•œåƒå]**  
   åŸºäºæŒ‡å®šé•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªæ–°å®¹å™¨ã€‚å¸¸ç”¨å‚æ•°æœ‰`-d`ï¼ˆåå°è¿è¡Œï¼‰ã€`--name`ï¼ˆæŒ‡å®šå®¹å™¨åï¼‰ã€`-p`ï¼ˆç«¯å£æ˜ å°„ï¼‰ã€`-v`ï¼ˆæ•°æ®æŒ‚è½½ï¼‰ç­‰ã€‚

10. **docker stop [å®¹å™¨åæˆ–ID]**  
    åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚

11. **docker start [å®¹å™¨åæˆ–ID]**  
    å¯åŠ¨ä¸€ä¸ªå·²åœæ­¢çš„å®¹å™¨ã€‚

12. **docker restart [å®¹å™¨åæˆ–ID]**  
    é‡å¯ä¸€ä¸ªå®¹å™¨ã€‚

13. **docker rm [å®¹å™¨åæˆ–ID]**  
    åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼ˆéœ€å…ˆåœæ­¢ï¼‰ã€‚

14. **docker logs [å®¹å™¨åæˆ–ID]**  
    æŸ¥çœ‹å®¹å™¨çš„æ ‡å‡†è¾“å‡ºæ—¥å¿—ï¼Œä¾¿äºè°ƒè¯•å’Œæ’æŸ¥é—®é¢˜ã€‚

15. **docker exec -it [å®¹å™¨åæˆ–ID] /bin/bash**  
    è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨å†…éƒ¨ï¼Œè¿›è¡Œäº¤äº’å¼æ“ä½œã€‚

16. **docker stats**  
    å®æ—¶æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µï¼ˆCPUã€å†…å­˜ã€ç½‘ç»œç­‰ï¼‰ã€‚

17. **docker cp [å®¹å™¨:è·¯å¾„] [æœ¬åœ°è·¯å¾„]**  
    åœ¨å®¹å™¨å’Œä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚

18. **docker export [å®¹å™¨åæˆ–ID] > æ–‡ä»¶å.tar**  
    å¯¼å‡ºå®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸ºtaråŒ…ï¼Œä¾¿äºè¿ç§»æˆ–å¤‡ä»½ã€‚



è¿™äº›å‘½ä»¤æ¶µç›–äº†Dockeræ—¥å¸¸ä½¿ç”¨çš„ä¸»è¦åœºæ™¯ï¼ŒæŒæ¡å®ƒä»¬å¯ä»¥å¸®åŠ©ä½ é«˜æ•ˆè¿›è¡Œå®¹å™¨çš„ç®¡ç†ä¸è¿ç»´ã€‚


---

### 2. é•œåƒçš„æ‹‰å–å’Œç®¡ç†

è¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä½•ä»Docker Hubç­‰ä»“åº“æ‹‰å–é•œåƒï¼ŒæŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨ï¼Œåˆ é™¤ä¸éœ€è¦çš„é•œåƒï¼Œä»¥åŠé•œåƒçš„åŸºæœ¬ç®¡ç†æ–¹æ³•ã€‚

å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å¯¹â€œé•œåƒçš„æ‹‰å–å’Œç®¡ç†â€éƒ¨åˆ†å†…å®¹çš„å®Œå–„ç‰ˆï¼š

---

### 2. é•œåƒçš„æ‹‰å–å’Œç®¡ç†

æœ¬èŠ‚ä¸»è¦ä»‹ç»å¦‚ä½•ä»Docker Hubç­‰é•œåƒä»“åº“æ‹‰å–é•œåƒï¼Œå¦‚ä½•æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨ï¼Œåˆ é™¤ä¸éœ€è¦çš„é•œåƒï¼Œä»¥åŠé•œåƒçš„åŸºæœ¬ç®¡ç†æ–¹æ³•ã€‚æŒæ¡è¿™äº›æ“ä½œï¼Œæœ‰åŠ©äºé«˜æ•ˆç®¡ç†æœ¬åœ°é•œåƒèµ„æºï¼ŒèŠ‚çœç£ç›˜ç©ºé—´ï¼Œå¹¶ä¸ºåç»­å®¹å™¨åˆ›å»ºæ‰“ä¸‹åŸºç¡€ã€‚

**å¸¸ç”¨å‘½ä»¤åŠè¯´æ˜ï¼š**

- **æ‹‰å–é•œåƒ**  
  ä»è¿œç¨‹ä»“åº“ï¼ˆå¦‚Docker Hubï¼‰ä¸‹è½½æŒ‡å®šé•œåƒåˆ°æœ¬åœ°ã€‚  
  ```bash
  docker pull nginx
  ```

- **æŸ¥çœ‹æœ¬åœ°é•œåƒ**  
  åˆ—å‡ºæœ¬åœ°æ‰€æœ‰å·²ä¸‹è½½çš„é•œåƒï¼ŒåŒ…æ‹¬é•œåƒåç§°ã€æ ‡ç­¾ã€IDã€åˆ›å»ºæ—¶é—´å’Œå¤§å°ã€‚  
  ```bash
  docker images
  ```

- **åˆ é™¤é•œåƒ**  
  åˆ é™¤æœ¬åœ°ä¸å†éœ€è¦çš„é•œåƒï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚å¯ä»¥é€šè¿‡é•œåƒåæˆ–IDåˆ é™¤ã€‚  
  ```bash
  docker rmi nginx
  ```

- **ä¸ºé•œåƒæ‰“æ ‡ç­¾**  
  ç»™é•œåƒæ·»åŠ æ–°çš„æ ‡ç­¾ï¼Œä¾¿äºç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶ã€‚  
  ```bash
  docker tag nginx mynginx:v1
  ```

- **æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯**  
  è·å–æŒ‡å®šé•œåƒçš„è¯¦ç»†å…ƒæ•°æ®ä¿¡æ¯ã€‚  
  ```bash
  docker inspect nginx
  ```

é€šè¿‡ä»¥ä¸Šæ“ä½œï¼Œä½ å¯ä»¥çµæ´»åœ°ç®¡ç†æœ¬åœ°é•œåƒï¼Œç¡®ä¿ç¯å¢ƒæ•´æ´é«˜æ•ˆã€‚


---

### 3. å®¹å™¨çš„åˆ›å»ºã€è¿è¡Œä¸åœæ­¢

å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å¯¹â€œå®¹å™¨çš„åˆ›å»ºã€è¿è¡Œä¸åœæ­¢â€éƒ¨åˆ†å†…å®¹çš„å®Œå–„ç‰ˆï¼š

---

### 3. å®¹å™¨çš„åˆ›å»ºã€è¿è¡Œä¸åœæ­¢

æœ¬èŠ‚å°†ä»‹ç»å¦‚ä½•åŸºäºé•œåƒåˆ›å»ºå’Œè¿è¡Œå®¹å™¨ï¼Œä»¥åŠå¦‚ä½•åœæ­¢ã€å¯åŠ¨ã€é‡å¯å’Œåˆ é™¤å®¹å™¨ï¼Œå¸®åŠ©ç†è§£å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚é€šè¿‡æŒæ¡è¿™äº›æ“ä½œï¼Œå¯ä»¥çµæ´»åœ°å¯¹å®¹å™¨è¿›è¡Œæ—¥å¸¸ç®¡ç†å’Œç»´æŠ¤ã€‚

**å¸¸ç”¨å‘½ä»¤åŠè¯´æ˜ï¼š**

- **åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨**  
  åŸºäºæŒ‡å®šé•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªæ–°å®¹å™¨ï¼Œ`-d`å‚æ•°è¡¨ç¤ºåå°è¿è¡Œï¼Œ`--name`ç”¨äºæŒ‡å®šå®¹å™¨åç§°ã€‚  
  ```bash
  docker run -d --name mynginx nginx
  ```

- **æŸ¥çœ‹å®¹å™¨åˆ—è¡¨**  
  æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬æ­£åœ¨è¿è¡Œå’Œå·²åœæ­¢çš„ï¼‰ã€‚  
  ```bash
  docker ps -a
  ```

- **åœæ­¢å®¹å™¨**  
  åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚  
  ```bash
  docker stop mynginx
  ```

- **å¯åŠ¨å®¹å™¨**  
  å¯åŠ¨ä¸€ä¸ªå·²åœæ­¢çš„å®¹å™¨ã€‚  
  ```bash
  docker start mynginx
  ```

- **é‡å¯å®¹å™¨**  
  é‡å¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚  
  ```bash
  docker restart mynginx
  ```

- **åˆ é™¤å®¹å™¨**  
  åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼ˆéœ€å…ˆåœæ­¢ï¼‰ã€‚  
  ```bash
  docker rm mynginx
  ```



---

### 4. å®¹å™¨æ—¥å¿—ä¸è°ƒè¯•
å­¦ä¹ å¦‚ä½•æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—è¾“å‡ºï¼Œè¿›è¡Œç®€å•çš„è°ƒè¯•æ“ä½œï¼Œå¸®åŠ©å®šä½å’Œè§£å†³å®¹å™¨è¿è¡Œä¸­çš„é—®é¢˜ã€‚

**ç¤ºä¾‹å‘½ä»¤ï¼š**
```bash
docker logs mynginx
docker exec -it mynginx /bin/bash
```

---

### 5. å®¹å™¨æ•°æ®ç®¡ç†ï¼ˆæ–‡ä»¶æŒ‚è½½ï¼‰

å¥½çš„ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»Dockerå®¹å™¨çš„æ•°æ®å·ï¼ˆVolumeï¼‰ç›¸å…³å†…å®¹ï¼š

---

### å®¹å™¨çš„æ•°æ®å·ï¼ˆVolumeï¼‰è¯¦è§£

#### 1. ä»€ä¹ˆæ˜¯æ•°æ®å·ï¼ˆVolumeï¼‰ï¼Ÿ

æ•°æ®å·æ˜¯Dockeræä¾›çš„ä¸€ç§ç”¨äºæŒä¹…åŒ–å’Œå…±äº«æ•°æ®çš„æœºåˆ¶ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸»æœºä¸Šçš„ä¸€ä¸ªç›®å½•æˆ–æ–‡ä»¶ï¼Œè¢«æŒ‚è½½åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä¸­ã€‚æ•°æ®å·çš„ä¸»è¦ä½œç”¨æ˜¯å®ç°å®¹å™¨ä¸ä¸»æœºä¹‹é—´ã€å®¹å™¨ä¸å®¹å™¨ä¹‹é—´çš„æ•°æ®å…±äº«å’ŒæŒä¹…åŒ–ï¼Œé¿å…å› å®¹å™¨åˆ é™¤è€Œå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚

#### 2. æ•°æ®å·çš„ä¼˜åŠ¿

- **æ•°æ®æŒä¹…åŒ–**ï¼šå®¹å™¨åˆ é™¤åï¼Œå·ä¸­çš„æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚
- **æ•°æ®å…±äº«**ï¼šå¤šä¸ªå®¹å™¨å¯ä»¥æŒ‚è½½åŒä¸€ä¸ªå·ï¼Œå®ç°æ•°æ®å…±äº«ã€‚
- **å¤‡ä»½ä¸æ¢å¤æ–¹ä¾¿**ï¼šå¯ä»¥ç›´æ¥å¯¹å·ç›®å½•è¿›è¡Œå¤‡ä»½å’Œæ¢å¤ã€‚
- **ä¸ä¸»æœºè§£è€¦**ï¼šå·çš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œä¾¿äºç®¡ç†ã€‚

#### 3. æŒ‚è½½æ•°æ®å·çš„æ–¹å¼

**ï¼ˆ1ï¼‰åŒ¿åå·**  
Dockerä¼šè‡ªåŠ¨ä¸ºå®¹å™¨åˆ†é…ä¸€ä¸ªå·ï¼Œé€‚åˆä¸´æ—¶æ•°æ®å­˜å‚¨ã€‚  
```bash
docker run -v /container/data nginx
```

**ï¼ˆ2ï¼‰å…·åå·**  
ä¸ºå·æŒ‡å®šåç§°ï¼Œä¾¿äºç®¡ç†å’Œå¤ç”¨ã€‚  
```bash
docker volume create mydata
docker run -v mydata:/container/data nginx
```

**ï¼ˆ3ï¼‰ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰**  
å°†ä¸»æœºä¸Šçš„æŒ‡å®šç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…ï¼Œå®ç°ä¸»æœºä¸å®¹å™¨çš„æ•°æ®åŒæ­¥ã€‚  
```bash
docker run -v /host/data:/container/data nginx
```

#### 4. å¸¸ç”¨æ•°æ®å·å‘½ä»¤

- **åˆ›å»ºæ•°æ®å·**
  ```bash
  docker volume create mydata
  ```

- **æŸ¥çœ‹æ‰€æœ‰æ•°æ®å·**
  ```bash
  docker volume ls
  ```

- **æŸ¥çœ‹å·è¯¦ç»†ä¿¡æ¯**
  ```bash
  docker volume inspect mydata
  ```

- **åˆ é™¤æ•°æ®å·**
  ```bash
  docker volume rm mydata
  ```

- **åˆ é™¤æœªè¢«ä½¿ç”¨çš„å·**
  ```bash
  docker volume prune
  ```

#### 5. å¤šå®¹å™¨å…±äº«æ•°æ®å·

å¤šä¸ªå®¹å™¨å¯ä»¥é€šè¿‡æŒ‚è½½åŒä¸€ä¸ªå·ï¼Œå®ç°æ•°æ®å…±äº«ã€‚ä¾‹å¦‚ï¼š
```bash
docker run -d --name c1 -v shared-data:/data busybox
docker run -d --name c2 -v shared-data:/data busybox
```
è¿™æ ·ï¼Œ`c1`å’Œ`c2`å®¹å™¨éƒ½å¯ä»¥è®¿é—®`shared-data`å·ä¸­çš„å†…å®¹ã€‚

#### 6. å·çš„åº”ç”¨åœºæ™¯

- æŒä¹…åŒ–æ•°æ®åº“æ•°æ®ï¼ˆå¦‚MySQLã€PostgreSQLç­‰ï¼‰
- å®¹å™¨é—´å…±äº«é…ç½®æ–‡ä»¶æˆ–æ—¥å¿—
- å¤‡ä»½å’Œè¿ç§»å®¹å™¨æ•°æ®

---

é€šè¿‡åˆç†ä½¿ç”¨æ•°æ®å·ï¼Œå¯ä»¥æå¤§æå‡Dockerå®¹å™¨çš„æ•°æ®å®‰å…¨æ€§å’Œçµæ´»æ€§ï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦åŠŸèƒ½ã€‚


---

### 6. ç½‘ç»œç®¡ç†ï¼ˆç«¯å£æ˜ å°„ï¼‰

å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å¯¹â€œç½‘ç»œç®¡ç†ï¼ˆç«¯å£æ˜ å°„ï¼‰â€éƒ¨åˆ†å†…å®¹çš„å®Œå–„ç‰ˆï¼š

---

### 6. ç½‘ç»œç®¡ç†ï¼ˆç«¯å£æ˜ å°„ï¼‰

æœ¬èŠ‚ä¸»è¦è®²è§£å¦‚ä½•å°†å®¹å™¨å†…éƒ¨ç«¯å£æ˜ å°„åˆ°ä¸»æœºç«¯å£ï¼Œå®ç°å¤–éƒ¨è®¿é—®å®¹å™¨æœåŠ¡ï¼Œå¹¶ç®€è¦ä»‹ç»Dockerçš„å¸¸è§ç½‘ç»œæ¨¡å¼ã€‚

**ç«¯å£æ˜ å°„è¯´æ˜ï¼š**  
é€šè¿‡`-p`å‚æ•°ï¼Œå¯ä»¥å°†ä¸»æœºçš„ç«¯å£ä¸å®¹å™¨çš„ç«¯å£è¿›è¡Œç»‘å®šã€‚ä¾‹å¦‚ï¼Œå°†ä¸»æœºçš„8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„80ç«¯å£ï¼Œå¤–éƒ¨è®¿é—®ä¸»æœº8080ç«¯å£å³å¯è®¿é—®å®¹å™¨å†…çš„æœåŠ¡ã€‚

```bash
docker run -p 8080:80 nginx
```

**å¸¸è§ç½‘ç»œæ¨¡å¼ç®€ä»‹ï¼š**

- **bridgeï¼ˆé»˜è®¤ï¼‰**ï¼šä¸ºæ¯ä¸ªå®¹å™¨åˆ†é…ç‹¬ç«‹çš„ç½‘ç»œå‘½åç©ºé—´ï¼Œå®¹å™¨ä¹‹é—´é€šè¿‡è™šæ‹Ÿç½‘æ¡¥é€šä¿¡ï¼Œé€‚åˆå•æœºå¤šå®¹å™¨åœºæ™¯ã€‚
- **host**ï¼šå®¹å™¨ä¸ä¸»æœºå…±äº«ç½‘ç»œå‘½åç©ºé—´ï¼Œç«¯å£æ— éœ€æ˜ å°„ï¼Œé€‚åˆå¯¹ç½‘ç»œæ€§èƒ½è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ã€‚
- **none**ï¼šå®¹å™¨æ²¡æœ‰ç½‘ç»œåŠŸèƒ½ï¼Œé€‚åˆæç«¯å®‰å…¨æˆ–è‡ªå®šä¹‰ç½‘ç»œéœ€æ±‚ã€‚
- **è‡ªå®šä¹‰ç½‘ç»œ**ï¼šå¯ä»¥é€šè¿‡`docker network create`å‘½ä»¤åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œï¼Œå®ç°æ›´çµæ´»çš„å®¹å™¨äº’è”ã€‚

**æŸ¥çœ‹ç½‘ç»œå‘½ä»¤ï¼š**
```bash
docker network ls
docker network inspect bridge
```



---

### 7. Docker Composeå¿«é€Ÿä½“éªŒ
åˆæ­¥ä½“éªŒDocker Composeï¼Œäº†è§£å¦‚ä½•é€šè¿‡ç¼–å†™`docker-compose.yml`æ–‡ä»¶ï¼Œä¸€é”®å¯åŠ¨å’Œç®¡ç†å¤šå®¹å™¨åº”ç”¨ã€‚

**ç¤ºä¾‹æ–‡ä»¶ï¼š**
```yaml
version: '3'
services:
  web:
    image: nginx
    ports:
      - "8080:80"
```
**å¯åŠ¨å‘½ä»¤ï¼š**
```bash
docker-compose up -d
```


---

### 8. ç®€å•åº”ç”¨éƒ¨ç½²ç¤ºä¾‹

å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å¯¹â€œç®€å•åº”ç”¨éƒ¨ç½²ç¤ºä¾‹â€éƒ¨åˆ†å†…å®¹çš„å®Œå–„ç‰ˆï¼š

---

### 8. ç®€å•åº”ç”¨éƒ¨ç½²ç¤ºä¾‹

æœ¬èŠ‚å°†é€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Dockeréƒ¨ç½²ä¸€ä¸ªç®€å•çš„Webåº”ç”¨ï¼ˆå¦‚Nginxæˆ–Node.jsï¼‰ï¼Œå¸®åŠ©å°†æ‰€å­¦çŸ¥è¯†åº”ç”¨åˆ°å®é™…åœºæ™¯ï¼Œä½“éªŒå®¹å™¨åŒ–å¸¦æ¥çš„ä¾¿æ·ã€‚

**ç¤ºä¾‹ï¼šä½¿ç”¨Dockeréƒ¨ç½²Nginx WebæœåŠ¡**

1. **æ‹‰å–Nginxé•œåƒ**
   ```bash
   docker pull nginx
   ```

2. **è¿è¡ŒNginxå®¹å™¨å¹¶æ˜ å°„ç«¯å£**
   ```bash
   docker run -d --name mynginx -p 8080:80 nginx
   ```

3. **è®¿é—®æœåŠ¡**  
   åœ¨æµè§ˆå™¨ä¸­è¾“å…¥`http://localhost:8080`ï¼Œå³å¯è®¿é—®Nginxé»˜è®¤é¦–é¡µã€‚

4. **æŸ¥çœ‹å®¹å™¨çŠ¶æ€**
   ```bash
   docker ps
   ```

5. **åœæ­¢å¹¶åˆ é™¤å®¹å™¨**
   ```bash
   docker stop mynginx
   docker rm mynginx
   ```





æœ¬èŠ‚è¡¥å……ä»‹ç»ä¸€äº›å¸¸ç”¨çš„è¿›é˜¶å‘½ä»¤ï¼Œå¦‚æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µã€å¯¼å…¥å¯¼å‡ºé•œåƒã€å¤åˆ¶æ–‡ä»¶ç­‰ï¼Œå¸®åŠ©æå‡æ—¥å¸¸è¿ç»´æ•ˆç‡å’Œå®¹å™¨ç®¡ç†èƒ½åŠ›ã€‚

**å¸¸ç”¨è¿›é˜¶å‘½ä»¤åŠè¯´æ˜ï¼š**

- **æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ**  
  å®æ—¶ç›‘æ§æ‰€æœ‰å®¹å™¨çš„CPUã€å†…å­˜ã€ç½‘ç»œç­‰èµ„æºæ¶ˆè€—ï¼Œä¾¿äºæ€§èƒ½åˆ†æå’Œæ•…éšœæ’æŸ¥ã€‚  
  ```bash
  docker stats
  ```

- **å¯¼å‡ºå®¹å™¨ä¸ºtaråŒ…**  
  å°†æŒ‡å®šå®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿå¯¼å‡ºä¸ºtarå½’æ¡£æ–‡ä»¶ï¼Œä¾¿äºè¿ç§»æˆ–å¤‡ä»½ã€‚  
  ```bash
  docker export mynginx > mynginx.tar
  ```

- **å®¹å™¨ä¸ä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶**  
  åœ¨å®¹å™¨å’Œä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¸¸ç”¨äºé…ç½®æ–‡ä»¶çš„å¤‡ä»½ä¸æ¢å¤ã€‚  
  ```bash
  docker cp mynginx:/etc/nginx/nginx.conf .
  ```

---

é€šè¿‡æŒæ¡è¿™äº›è¿›é˜¶å‘½ä»¤ï¼Œå¯ä»¥æ›´é«˜æ•ˆåœ°è¿›è¡Œå®¹å™¨çš„æ—¥å¸¸ç®¡ç†å’Œç»´æŠ¤ï¼Œæ»¡è¶³æ›´å¤šå®é™…è¿ç»´åœºæ™¯çš„éœ€æ±‚ã€‚



### 10. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆï¼ˆå«è¯¦ç»†æŠ¥é”™ï¼‰

#### 1. ç«¯å£å†²çª

**å¸¸è§æŠ¥é”™ï¼š**
```
Error starting userland proxy: listen tcp 0.0.0.0:80: bind: address already in use.
```
**è§£å†³æ–¹æ³•ï¼š**
- ä½¿ç”¨`lsof -i:80`æˆ–`netstat -tlnp | grep 80`æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼Œå¹¶é‡Šæ”¾æˆ–æ›´æ¢ç«¯å£ã€‚
- å¯åŠ¨å®¹å™¨æ—¶æ›´æ¢ä¸»æœºç«¯å£ï¼Œå¦‚`docker run -p 8081:80 nginx`ã€‚

---

#### 2. é•œåƒæ‹‰å–å¤±è´¥

**å¸¸è§æŠ¥é”™ï¼š**
```
Error response from daemon: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection
```
æˆ–
```
pull access denied for xxx, repository does not exist or may require 'docker login'
```
**è§£å†³æ–¹æ³•ï¼š**
- æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œå°è¯•åˆ‡æ¢ç½‘ç»œ
- é…ç½®å›½å†…é•œåƒåŠ é€Ÿå™¨ï¼ˆå¦‚é˜¿é‡Œäº‘ã€DaoCloudç­‰ï¼‰ã€‚
- æ£€æŸ¥é•œåƒåç§°å’Œæ ‡ç­¾æ‹¼å†™æ˜¯å¦æ­£ç¡®ã€‚
- è‹¥ä¸ºç§æœ‰ä»“åº“ï¼Œéœ€å…ˆæ‰§è¡Œ`docker login`ç™»å½•ã€‚

---

#### 3. å®¹å™¨æ— æ³•å¯åŠ¨

**å¸¸è§æŠ¥é”™ï¼š**
```
standard_init_linux.go:228: exec user process caused: no such file or directory
```
æˆ–
```
OCI runtime create failed: ... : permission denied
```
æˆ–å®¹å™¨ä¸€å¯åŠ¨å°±é€€å‡ºï¼ˆ`docker ps -a`çŠ¶æ€ä¸ºExitedï¼‰ã€‚

**è§£å†³æ–¹æ³•ï¼š**
- ä½¿ç”¨`docker logs å®¹å™¨å`æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œå®šä½å…·ä½“é”™è¯¯ã€‚
- æ£€æŸ¥Dockerfileæˆ–å¯åŠ¨å‘½ä»¤ä¸­çš„å…¥å£æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€æƒé™æ˜¯å¦æ­£ç¡®ã€‚
- æ£€æŸ¥æŒ‚è½½çš„ç›®å½•æˆ–æ–‡ä»¶æƒé™ï¼Œç¡®ä¿å®¹å™¨æœ‰è®¿é—®æƒé™ã€‚
- æ£€æŸ¥ç¯å¢ƒå˜é‡ã€ç«¯å£ã€å·æŒ‚è½½ç­‰å‚æ•°è®¾ç½®æ˜¯å¦æ­£ç¡®ã€‚

---

#### 4. å®¹å™¨å†…æ–‡ä»¶æˆ–æ•°æ®ä¸¢å¤±

**å¸¸è§ç°è±¡ï¼š**
- å®¹å™¨é‡å¯æˆ–åˆ é™¤åï¼Œæ•°æ®ä¸¢å¤±ã€‚

**è§£å†³æ–¹æ³•ï¼š**
- ä½¿ç”¨æ•°æ®å·ï¼ˆVolumeï¼‰æˆ–ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰æŒä¹…åŒ–æ•°æ®ã€‚
- å®šæœŸå¤‡ä»½é‡è¦æ•°æ®ã€‚
- æ£€æŸ¥æŒ‚è½½å‚æ•°æ˜¯å¦æ­£ç¡®ï¼Œå¦‚`-v /host/data:/container/data`ã€‚

---

#### 5. é•œåƒæˆ–å®¹å™¨å ç”¨ç£ç›˜ç©ºé—´è¿‡å¤§

**å¸¸è§æŠ¥é”™ï¼š**
```
no space left on device
```
æˆ–
```
write /var/lib/docker/overlay2/...: no space left on device
```
**è§£å†³æ–¹æ³•ï¼š**
- åˆ é™¤æ— ç”¨çš„å®¹å™¨ã€é•œåƒå’Œå·ï¼š
  ```bash
  docker system prune -a
  docker image prune
  docker volume prune
  ```
- æ£€æŸ¥`/var/lib/docker`ç›®å½•ç©ºé—´å ç”¨ï¼Œå¿…è¦æ—¶æ‰©å®¹ç£ç›˜æˆ–è¿ç§»æ•°æ®ã€‚





